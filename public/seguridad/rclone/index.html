<!DOCTYPE html>
<html lang="es-ES">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Rclone | Blog</title>
  <meta name="description" content="En esta pagina estatica vamos a guardar algunos de los trabajos que vaya realizando a lo largo del curso de 2ºASIR en el instituto I.E.S. Gonzalo Nazareno.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Rclone" />
<meta property="og:description" content="rclone en linux ¿Qué es rclone? se trata de una herramienta en línea de comando para sincronizar archivos y directorios desde la computadora con los proveedores más importantes de alojamiento de contenidos en la nube. También permite efectuar copias dentro de nuestro propio sistema de archivos.
Practica con rclone A continuación vamos a realizar distintas practicas con la herramienta de rclone en nuestro ordenador, para ello vamos a tener en total 4 tareas distintas." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://prueba-5i5d.onrender.com/seguridad/rclone/" />
<meta property="article:published_time" content="2020-10-05T19:55:23+02:00" />
<meta property="article:modified_time" content="2020-10-05T19:55:23+02:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Rclone"/>
<meta name="twitter:description" content="rclone en linux ¿Qué es rclone? se trata de una herramienta en línea de comando para sincronizar archivos y directorios desde la computadora con los proveedores más importantes de alojamiento de contenidos en la nube. También permite efectuar copias dentro de nuestro propio sistema de archivos.
Practica con rclone A continuación vamos a realizar distintas practicas con la herramienta de rclone en nuestro ordenador, para ello vamos a tener en total 4 tareas distintas."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://prueba-5i5d.onrender.com/css/style-white.css">
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://prueba-5i5d.onrender.com/images/favicon.ico" />

  
</head>
<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="https://prueba-5i5d.onrender.com">
  
    <div id="logo" style="background-image: url(https://prueba-5i5d.onrender.com/images/logo.png)"></div>
  
  <div id="title">
    <h1>Blog</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li>
       
        <li><a href="/">Home</a></li>
       
        <li><a href="/sistemas">Sistemas</a></li>
       
        <li><a href="/seguridad">Seguridad</a></li>
      
    </ul>
  </div>
</header>
  

    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="content" itemprop="articleBody">
  
    <h1 id="rclone-en-linux">rclone en linux</h1>
<h2 id="qué-es-rclone">¿Qué es rclone?</h2>
<p>se trata de una herramienta en línea de comando para sincronizar archivos y directorios desde la computadora con los proveedores más importantes de alojamiento de contenidos en la nube. También permite efectuar copias dentro de nuestro propio sistema de archivos.</p>
<h2 id="practica-con-rclone">Practica con rclone</h2>
<p>A continuación vamos a realizar distintas practicas con la herramienta de rclone en nuestro ordenador, para ello vamos a tener en total 4 tareas distintas.</p>
<ul>
<li>
<p>Tarea 1: Instala rclone en tu equipo.</p>
</li>
<li>
<p>Tarea 2: Configura dos proveedores cloud en rclone (dropbox, google drive, mega, …)</p>
</li>
<li>
<p>Tarea 3: Muestra distintos comandos de rclone para gestionar los ficheros de los proveedores cloud: lista los ficheros, copia un fichero local a la nube, sincroniza un directorio local con un directorio en la nube, copia ficheros entre los dos proveedores cloud, muestra alguna funcionalidad más,…</p>
</li>
<li>
<p>Tarea 4: Monta en un directorio local de tu ordenador, los ficheros de un proveedor cloud. Comprueba que copiando o borrando ficheros en este directorio se crean o eliminan en el proveedor.</p>
</li>
</ul>
<h3 id="tarea-1">Tarea 1</h3>
<p>Para la instalación de rclone tenemos 2 opciones de instalación para esta herramienta:</p>
<ul>
<li>Opción 1: En la opcion uno la instalación de la herramienta de rclone la vamos a realizar mediante los repositorios oficiales de Debian, para ello nos vamos a la linea de comandos y escribimos lo siguiente:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    francisco@debian10:~$ sudo aptitude install rclon
</code></pre></div><ul>
<li>Opción 2: En la siguiente opción, en vez de usar los repositorios oficiales de Debian, vamos a instalar la versión que esta en la pagina oficial de rclone, para ello primero descargamos el fichero .deb:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    francisco@debian10:~/Descargas$ wget https://downloads.rclone.org/v1.53.1/rclone-v1.53.1-linux-amd64.d

    y a continuación instalamos el paquete descargado:

    francisco@debian10:~/Descargas$ sudo dpkg -i rclone-v1.53.1-linux-amd64.d
</code></pre></div><h3 id="tarea-2">Tarea 2</h3>
<p>En esta tarea lo que debemos de hacer es configurar dos proveedores cloud con nuestro rclone, en mi caso voy a usar Google Drive y DropBox.</p>
<p>Una vez tengamos instalado rclone, nos dirigimos a la linea de comandos y en ella escribimos lo siguiente:
El siguiente comando nos permite la configuración de nuestro rclone:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    francisco@debian10:~$ rclone config
</code></pre></div><p>Una vez hayamos iniciado el comando nos apareceran las distintas opciones que nos da rclone, nosostros necesitamos crear un nuevo “remote” para ello pulsamos la letra que nos indica el menu que nos aparece y le decimos el nombre que va a tener, en mi caso “Drive”.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    No remotes found - make a new one 
    n<span style="color:#f92672">)</span> New remote 
    s<span style="color:#f92672">)</span> Set configuration password 
    q<span style="color:#f92672">)</span> Quit config 
    n/s/q&gt; n 
    name&gt; Drive
</code></pre></div><p>Una vez lo hayamos hecho debemos de elegir el proveedor cloud que nosotros vayamos a usar, en mi caso usare drive, que es el numero 12, y tambien usare dropbox, que es el numero 8, pero cada uno de los proveedores se debe configurar a parte, asi que elegimos solo uno, que sera Drive.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    Type of storage to configure. 
    Enter a string value. Press Enter <span style="color:#66d9ef">for</span> the default <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span>. 
    Choose a number from below, or type in your own value 
    <span style="color:#ae81ff">1</span> / A stackable unification remote, which can appear to merge the contents of several remotes 
    <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;union&#34;</span> 
    <span style="color:#ae81ff">2</span> / Alias <span style="color:#66d9ef">for</span> a existing remote 
      <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;alias&#34;</span> 
    <span style="color:#ae81ff">3</span> / Amazon Drive 
      <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;amazon cloud drive&#34;</span> 
    <span style="color:#ae81ff">4</span> / Amazon S3 Compliant Storage Providers <span style="color:#f92672">(</span>AWS, Ceph, Dreamhost, IBM COS, Minio<span style="color:#f92672">)</span> 
      <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;s3&#34;</span>
    . . .
    Storage&gt; <span style="color:#ae81ff">12</span>
</code></pre></div><p>Una vez elegido el proovedor nos pediran el nombre del cliente y su contraseña aunque estos campos los podemos dejar en blanco si lo deseamos.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    Enter a string value. Press Enter <span style="color:#66d9ef">for</span> the default <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span>. 
    client_id&gt; 
    Google Application Client Secret 
    Leave blank normally. 
    Enter a string value. Press Enter <span style="color:#66d9ef">for</span> the default <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span>. 
    client_secret&gt; 
    Scope that rclone should use when requesting access from drive. 
    Enter a string value. Press Enter <span style="color:#66d9ef">for</span> the default <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span>.
</code></pre></div><p>Una vez realizado el los campos anteriores nos pedirá que tipo de acceso que vamos a tener a nuestro proveedor cloud, en mi caso quiero que el acceso a este proveedor sea total, para ello le indicamos el numero que que esta en el menú que nos aparece.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    Choose a number from below, or type in your own value 
    <span style="color:#ae81ff">1</span> / Full access all files, excluding Application Data Folder. 
      <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;drive&#34;</span> 
    <span style="color:#ae81ff">2</span> / Read-only access to file metadata and file contents. 
      <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;drive.readonly&#34;</span> 
      / Access to files created by rclone only. 
    <span style="color:#ae81ff">3</span> | These are visible in the drive website. 
      | File authorization is revoked when the user deauthorizes the app. 
      <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;drive.file&#34;</span> 
      / Allows read and write access to the Application Data folder. 
    <span style="color:#ae81ff">4</span> | This is not visible in the drive website. 
      <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;drive.appfolder&#34;</span> 
      / Allows read-only access to file metadata but 
    <span style="color:#ae81ff">5</span> | does not allow any access to read or download file content. 
     <span style="color:#ae81ff">\ </span><span style="color:#e6db74">&#34;drive.metadata.readonly&#34;</span> 
    scope&gt; <span style="color:#ae81ff">1</span>
</code></pre></div><p>Una vez hecho esto nos pedirá si queremos editar las opciones avanzadas, a lo que nosotros le responderemos que no.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    Edit advanced config? <span style="color:#f92672">(</span>y/n<span style="color:#f92672">)</span> 
    y<span style="color:#f92672">)</span> Yes 
    n<span style="color:#f92672">)</span> No 
    y/n&gt; n
</code></pre></div><p>Una vez hecho el paso anterior nos pedirá si queremos que nuestro servicio cloud se configure de forma automática, a lo que le respondemos que si y nos debería de salir una pantalla de nuestro navegador para que rellenemos nuestra credenciales de nuestra cuenta del proveedor que nosotros hayamos elegido.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    Use auto config? 
    * Say Y <span style="color:#66d9ef">if</span> not sure 
    * Say N <span style="color:#66d9ef">if</span> you are working on a remote or headless machine or Y didn<span style="color:#e6db74">&#39;t work 
</span><span style="color:#e6db74">    y) Yes 
</span><span style="color:#e6db74">    n) No 
</span><span style="color:#e6db74">    y/n&gt; y 
</span><span style="color:#e6db74">    If your browser doesn&#39;</span>t open automatically go to the following link: http://127.0.0.1:53682/auth 
    Log in and authorize rclone <span style="color:#66d9ef">for</span> access 
    Waiting <span style="color:#66d9ef">for</span> code... 
    Got code
</code></pre></div><p>Y por ultimo nos pedirá si queremos que nuestra cuenta sea configurada como una cuenta de equipo, a lo que le respondemos que no.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">    Configure this as a team drive? 
    y<span style="color:#f92672">)</span> Yes 
    n<span style="color:#f92672">)</span> No 
    y/n&gt; n 
    -------------------- 
    <span style="color:#f92672">[</span>Drive<span style="color:#f92672">]</span> 
    scope <span style="color:#f92672">=</span> drive 
    token <span style="color:#f92672">=</span> 
    -------------------- 
    y<span style="color:#f92672">)</span> Yes this is OK 
    e<span style="color:#f92672">)</span> Edit this remote 
    d<span style="color:#f92672">)</span> Delete this remote 
    y/e/d&gt; y
</code></pre></div><p>Y ya habríamos acabo de configurar nuestro proveedor de cloud con rclone.</p>
<h3 id="tarea-3">Tarea 3</h3>
<p>En esta tarea vamos a mostrar algunos de los comandos mas utiles que podemos usar con la herramienta de rclone:</p>
<ul>
<li>Listar ficheros: Para poder listar ficheros podemos hacerlo con el comando:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">“rclone ls <span style="color:#f92672">(</span>nombre_servicio<span style="color:#f92672">)</span>:<span style="color:#f92672">[</span>PATH<span style="color:#f92672">]</span>” Dentro de el comando ls existen variantes:

Listar los objetos y directorios de una forma sencilla: rclone lsf <span style="color:#f92672">(</span>nombre_servicio<span style="color:#f92672">)</span>:<span style="color:#f92672">[</span>PATH<span style="color:#f92672">]</span>. Ej: rclone lsf Drive:Sistemas

Listar solo los directorios: rclone lsd <span style="color:#f92672">(</span>nombre_servicio<span style="color:#f92672">)</span>:<span style="color:#f92672">[</span>PATH<span style="color:#f92672">]</span>. Ej: rclone lsd Drive:

Listar la fecha de modificacion de los ficheros: rclone lsl <span style="color:#f92672">(</span>nombre_servicio<span style="color:#f92672">)</span>:<span style="color:#f92672">[</span>PATH<span style="color:#f92672">]</span>. Ej: rclone lsl DropBox:
</code></pre></div><ul>
<li>Copiar ficheros a nuestro servicio con rclone: para poder copiar ficheros desde nuestro equipo hacia el servicio cloud que tengamos usamos:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rclone copy <span style="color:#f92672">(</span>PATH fichero<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>Servicio:PATH<span style="color:#f92672">)</span>. 
Ej: rclone copy /home/francisco/Documentos/PLANTILLA.odt DropBox:
</code></pre></div><ul>
<li>Sincronizar Directorios con nuestro servicio: Con la sincronización lo que conseguimos es que el contenido de un directorio se copie a la ruta en nuestro servicio que le hayamos indicado por lo que, si estamos trabajando y hemos creado y modificado varios archivos y queremos guardarlos en nuestro servicio Cloud, solo debemos de sincronizar el directorio donde tengamos todos estos ficheros con una ruta que tengamos en nuestro servicio. Para realizar esta acción usamos el comando:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rclone sync <span style="color:#f92672">(</span>PATH a sincornizar<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>Servicio:PATH<span style="color:#f92672">)</span> 
Ej: rclone sync ./prueba/ DropBox:pruebas/rutas
</code></pre></div><ul>
<li>Crear directorios en nuestro servicio. Podemos crear directorios que no existan en nuestro servicio desde rclone, para ello usamos el siguiente comando:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rclone mkdir <span style="color:#f92672">(</span>Servicio:ruta<span style="color:#f92672">)</span>
por ejemplo queremos crear la carpeta prueba1 en la carpeta Pruebas:
rclone mkdir DropBox:Pruebas/prueba1
</code></pre></div><h3 id="tarea-4">Tarea 4</h3>
<p>En la siguiente tarea lo que debemos hacer es montar en un directorio local , lo ficheros de nuestro servicio cloud. Si hacemos esto lo que conseguimos es que en nuestro ordenador tengamos ese directorio montado para poder añadir o modificar cualquier fichero o directorio que nosotros veamos y al hacerlo, todo cambio realizado aparecerá en nuestro proveedor cloud. Para poder realizar estas acciones necesitamos el siguiente comando:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rclone mount <span style="color:#f92672">(</span>servicio:PATH a montar<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>PATH donde lo montamos<span style="color:#f92672">)</span>
Ej: rclone mount Drive:Sistemas/Pruebas ./Documentos/Sistemas/Pruebas
</code></pre></div>
  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2020  Francisco Javier Martín Núñez 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/sistemas">Sistemas</a></li>
         
        <li><a href="/seguridad">Seguridad</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
  
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>
